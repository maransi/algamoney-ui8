<div class="container">
  <form>
      <div class="ui-g">
          <div class="ui-g-12">
              <h1>Novo Lançamento</h1>
          </div>

          <div class="ui-g-12">
            <p-selectButton [options]="tipos" #tipo></p-selectButton>
          </div>

          <div class="ui-g-6 ui-md-3 ui-fluid">
              <label>Vencimento</label>
              <p-calendar dateFormat="dd/mm/yy"
                          [showIcon]="true"
                          name="vencimento"
                          id="vencimento"
                          ngModel
                          #vencimento="ngModel"
                          required></p-calendar>

              <app-message [control]="vencimento"
                           error="required"
                           text="Informe uma data válida"></app-message>
          </div>

          <div class="ui-g-6 ui-md-3 ui-fluid">
              <label>{{ tipo.value == 'RECEITA' ? 'Recebimento' : 'Pagamento' }}</label>
              <p-calendar dateFormat="dd/mm/yy" [showIcon]="true"></p-calendar>
          </div>

          <div class="ui-g-12 ui-md-9 ui-fluid">
              <label>Descrição </label>
              <input type="text"
                    name="descricao"
                    ngModel
                    #descricao="ngModel"
                    required
                    minlength="5"
                    autocomplete="off"
                    pInputText>

                <app-message [control]="descricao"
                              error="required"
                              text="Informe uma descrição válida"></app-message>

                <app-message [control]="descricao"
                              error="minlength"
                              text="Mínimo de {{ descricao.errors?.minlength?.requiredLength }} caracteres"></app-message>
<!--
              <div class="ui-message ui-messages-error" *ngIf="descricao.hasError('required') && descricao.dirty">
                Informe uma descrição válida
              </div>

              <div class="ui-message ui-messages-error" *ngIf="descricao.hasError('minlength') && descricao.dirty">
                Tamanho mínimo da descrição deve ser de {{ descricao.errors.minlength.requiredLength }} caracteres
              </div>
-->
          </div>
          <div class="ui-g-12 ui-md-3 ui-fluid">
              <label>Valor</label>
              <input type="text"
                      pInputText
                      placeholder="0,00"
                      currencyMask
                      ngModel
                      name="valor"
                      [options]="{ prefix: 'R$', thousands: '.', decimal: ',', allowNegative: false}">
          </div>
          <div class="ui-g-12 ui-md-6 ui-fluid">
              <label>Categoria {{ categoria.value }}</label>
              <p-dropdown [options]="categorias"
                          [autoWidth]="false"
                          [placeholder]="Selecione"
                          [filter]="true"
                          #categoria></p-dropdown>
          </div>
          <div class="ui-g-12 ui-md-6 ui-fluid">
              <label>Pessoa {{pessoa.value}}</label>
              <p-dropdown  [options]="pessoas"
                            [autoWidth]="false"
                            [placeholder]="Selecione"
                            [filter]="true"
                            #pessoa></p-dropdown>
          </div>
          <div class="ui-g-12 ui-fluid">
              <label>Observação</label>
              <textarea [rows]="5" [cols]="30" pInputTextarea autoResize="autoResize"></textarea>
          </div>
          <div class="ui-g-12">
              <button pButton type="submit" label="Salvar"></button>
              <button pButton type="button" label="Novo" class="ui-button-info"></button>
              <a href="javascrip:;">Voltar para a pesquisa</a>
          </div>
      </div>
  </form>
</div>

